Global
Viper

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.382ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.888ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /home/cheng/Desktop/Linux/douyin-fighting/initialize/mysql.go:54
[0.704ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.111ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.404ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.372ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[0.944ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'douyin' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.133ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.810ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /home/cheng/Desktop/Linux/douyin-fighting/initialize/mysql.go:55
[0.287ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.084ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.670ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[1.341ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[0.461ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'douyin' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.096ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.653ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /home/cheng/Desktop/Linux/douyin-fighting/initialize/mysql.go:55
[0.336ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin' AND table_name = 'videos' AND index_name = 'idx_videos_author_id'

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.125ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.364ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /home/cheng/Desktop/Linux/douyin-fighting/initialize/mysql.go:55
[0.865ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin' AND table_name = 'videos' AND index_name = 'idx_videos_created_at'

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.259ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.367ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /home/cheng/Desktop/Linux/douyin-fighting/initialize/mysql.go:56
[0.278ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.122ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.326ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.153ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[0.485ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'douyin' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.095ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.681ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /home/cheng/Desktop/Linux/douyin-fighting/initialize/mysql.go:56
[0.259ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin' AND table_name = 'favorites' AND index_name = 'idx_01'

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.071ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.307ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /home/cheng/Desktop/Linux/douyin-fighting/initialize/mysql.go:56
[0.258ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin' AND table_name = 'favorites' AND index_name = 'idx_02'

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.088ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.289ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /home/cheng/Desktop/Linux/douyin-fighting/initialize/mysql.go:57
[0.249ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.085ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.300ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[1.160ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[0.894ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'douyin' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.159ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.431ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /home/cheng/Desktop/Linux/douyin-fighting/initialize/mysql.go:57
[0.849ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin' AND table_name = 'comments' AND index_name = 'video_user'

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.117ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.357ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /home/cheng/Desktop/Linux/douyin-fighting/initialize/mysql.go:58
[0.268ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin' AND table_name = 'follows' AND table_type = 'BASE TABLE'

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[3.258ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.996ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[2.207ms] [rows:-] SELECT * FROM `follows` LIMIT 1

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[0.815ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'douyin' AND table_name = 'follows' ORDER BY ORDINAL_POSITION

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.178ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.105ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /home/cheng/Desktop/Linux/douyin-fighting/initialize/mysql.go:58
[0.944ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin' AND table_name = 'follows' AND index_name = 'idx_01'

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.167ms] [rows:-] SELECT DATABASE()

2022/10/29 14:16:45 /data/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.396ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin%' ORDER BY SCHEMA_NAME='douyin' DESC limit 1

2022/10/29 14:16:45 /home/cheng/Desktop/Linux/douyin-fighting/initialize/mysql.go:58
[1.288ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin' AND table_name = 'follows' AND index_name = 'idx_02'
MySQL
Redis
1111111111111111111
0.0.0.0:8080[GIN] 2022/10/29 - 14:16:56 | 200 |     726.173µs |    192.168.77.1 | GET      "/douyin/favorite/list/?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOjIzNDUyNDk4NDI5NzU4ODQ5LCJOYW1lIjoiMSIsImV4cCI6MTY2NzE2MjM3NSwibmJmIjoxNjY3MDc1OTc1LCJpYXQiOjE2NjcwNzU5NzV9.F2evzEjkR8YpG9M2aZ58rhUZUgQCs35gx7ZE4XRjBX8&user_id=23452498429758849"

2022/10/29 14:16:56 /home/cheng/Desktop/Linux/douyin-fighting/service/video.go:243
[1.743ms] [rows:7] SELECT * FROM `videos` WHERE video_id in (23453787305823617,23453727427939713,23453554370956673,23453395339726209,23452935241354625,23452930409516417,23452612732931457)

2022/10/29 14:16:56 /home/cheng/Desktop/Linux/douyin-fighting/service/comment.go:209
[1.054ms] [rows:0] SELECT `video_id`,COUNT(video_id) as comment_count FROM `comments` WHERE video_id in (23453787305823617,23453727427939713,23453554370956673,23453395339726209,23452935241354625,23452930409516417,23452612732931457) AND `comments`.`deleted_at` IS NULL GROUP BY `video_id`

2022/10/29 14:16:56 /home/cheng/Desktop/Linux/douyin-fighting/service/favorite.go:178
[0.590ms] [rows:0] SELECT `video_id`,COUNT(video_id) as favorite_count FROM `favorites` WHERE video_id in (23453787305823617,23453727427939713,23453554370956673,23453395339726209,23452935241354625,23452930409516417,23452612732931457) and is_favorite = true GROUP BY `video_id`
[GIN] 2022/10/29 - 14:16:56 | 500 |    5.354566ms |    192.168.77.1 | GET      "/douyin/publish/list/?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOjIzNDUyNDk4NDI5NzU4ODQ5LCJOYW1lIjoiMSIsImV4cCI6MTY2NzE2MjM3NSwibmJmIjoxNjY3MDc1OTc1LCJpYXQiOjE2NjcwNzU5NzV9.F2evzEjkR8YpG9M2aZ58rhUZUgQCs35gx7ZE4XRjBX8&user_id=23452498429758849"

2022/10/29 14:17:00 /home/cheng/Desktop/Linux/douyin-fighting/service/video.go:243
[0.427ms] [rows:5] SELECT * FROM `videos` WHERE video_id in (23464019025218945,23462739410177409,23462573751946625,23461385153301889,23245963636264321)

2022/10/29 14:17:00 /home/cheng/Desktop/Linux/douyin-fighting/service/comment.go:209
[1.295ms] [rows:0] SELECT `video_id`,COUNT(video_id) as comment_count FROM `comments` WHERE video_id in (23464019025218945,23462739410177409,23462573751946625,23461385153301889,23245963636264321) AND `comments`.`deleted_at` IS NULL GROUP BY `video_id`

2022/10/29 14:17:00 /home/cheng/Desktop/Linux/douyin-fighting/service/favorite.go:178
[0.359ms] [rows:0] SELECT `video_id`,COUNT(video_id) as favorite_count FROM `favorites` WHERE video_id in (23464019025218945,23462739410177409,23462573751946625,23461385153301889,23245963636264321) and is_favorite = true GROUP BY `video_id`
[GIN] 2022/10/29 - 14:17:00 | 500 |    3.384748ms |    192.168.77.1 | GET      "/douyin/feed/?latest_time=1667078220508"

2022/10/29 14:17:08 /home/cheng/Desktop/Linux/douyin-fighting/service/user.go:13
[1.453ms] [rows:0] SELECT * FROM `users` WHERE name = '2' LIMIT 1

2022/10/29 14:17:08 /home/cheng/Desktop/Linux/douyin-fighting/service/user.go:21
[2.747ms] [rows:1] INSERT INTO `users` (`name`,`password`,`created_at`,`ext_info`,`user_id`) VALUES ('2','$2a$10$blpCmsQnEuegxfcrk9Rk0u84DX2LoELqh65hmdS8cYL86XszJq9R.','2022-10-29 14:17:08.682',NULL,23466338458553729)
[GIN] 2022/10/29 - 14:17:08 | 200 |   61.009527ms |    192.168.77.1 | POST     "/douyin/user/register/?username=2&password=222222"

2022/10/29 14:17:09 /home/cheng/Desktop/Linux/douyin-fighting/service/user.go:51
[0.541ms] [rows:1] SELECT * FROM `users` WHERE user_id = 23466338458553729 LIMIT 1

2022/10/29 14:17:09 /home/cheng/Desktop/Linux/douyin-fighting/service/user.go:54
[1.605ms] [rows:1] SELECT count(*) FROM `follows` WHERE follower_id = 23466338458553729 and is_follow = true

2022/10/29 14:17:09 /home/cheng/Desktop/Linux/douyin-fighting/service/user.go:57
[0.443ms] [rows:1] SELECT count(*) FROM `follows` WHERE celebrity_id = 23466338458553729 and is_follow = true

2022/10/29 14:17:09 /home/cheng/Desktop/Linux/douyin-fighting/service/user.go:60
[0.910ms] [rows:1] SELECT count(*) FROM `favorites` WHERE user_id = 23466338458553729 and is_favorite = true

2022/10/29 14:17:09 /home/cheng/Desktop/Linux/douyin-fighting/service/video.go:289
[0.398ms] [rows:0] SELECT * FROM `videos` WHERE author_id = 23466338458553729

2022/10/29 14:17:09 /home/cheng/Desktop/Linux/douyin-fighting/service/follow.go:20
[0.383ms] [rows:0] SELECT `celebrity_id`,`is_follow` FROM `follows` WHERE follower_id = 0
[GIN] 2022/10/29 - 14:17:09 | 200 |    5.252389ms |    192.168.77.1 | GET      "/douyin/user/?user_id=23466338458553729&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOjIzNDY2MzM4NDU4NTUzNzI5LCJOYW1lIjoiMiIsImV4cCI6MTY2NzE2NDYyOCwibmJmIjoxNjY3MDc4MjI4LCJpYXQiOjE2NjcwNzgyMjh9.1WGBq3Axj97W0-f_SjRRU3V24YEoVjtecN5GMGB2gWg"

2022/10/29 14:17:09 /home/cheng/Desktop/Linux/douyin-fighting/service/favorite.go:114
[1.908ms] [rows:0] SELECT `video_id`,`is_favorite` FROM `favorites` WHERE user_id = 23466338458553729

2022/10/29 14:17:09 /home/cheng/Desktop/Linux/douyin-fighting/service/follow.go:105
[1.709ms] [rows:0] SELECT `celebrity_id`,`is_follow` FROM `follows` WHERE follower_id = 23466338458553729
[GIN] 2022/10/29 - 14:17:09 | 200 |    5.020098ms |    192.168.77.1 | GET      "/douyin/favorite/list/?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOjIzNDY2MzM4NDU4NTUzNzI5LCJOYW1lIjoiMiIsImV4cCI6MTY2NzE2NDYyOCwibmJmIjoxNjY3MDc4MjI4LCJpYXQiOjE2NjcwNzgyMjh9.1WGBq3Axj97W0-f_SjRRU3V24YEoVjtecN5GMGB2gWg&user_id=23466338458553729"

2022/10/29 14:17:09 /home/cheng/Desktop/Linux/douyin-fighting/service/video.go:121
[8.213ms] [rows:0] SELECT * FROM `videos` WHERE author_id = 23466338458553729
[GIN] 2022/10/29 - 14:17:09 | 200 |    9.147487ms |    192.168.77.1 | GET      "/douyin/publish/list/?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOjIzNDY2MzM4NDU4NTUzNzI5LCJOYW1lIjoiMiIsImV4cCI6MTY2NzE2NDYyOCwibmJmIjoxNjY3MDc4MjI4LCJpYXQiOjE2NjcwNzgyMjh9.1WGBq3Axj97W0-f_SjRRU3V24YEoVjtecN5GMGB2gWg&user_id=23466338458553729"
publish 1111111111111111111
publish 2222222222222
publish 3333333333333
insert db

2022/10/29 14:17:21 /home/cheng/Desktop/Linux/douyin-fighting/service/video.go:70
[6.834ms] [rows:1] INSERT INTO `videos` (`title`,`play_name`,`cover_name`,`author_id`,`created_at`,`ext_info`,`video_id`) VALUES ('2','23466359480405377','23466359480405377.jpg',0,'2022-10-29 14:17:21.366',NULL,23466359480405377)
redis
redis 1
redis 4
pipe 
pipe 1
pipe 2
pipe 3
pipe 4
[GIN] 2022/10/29 - 14:17:21 | 200 |  167.930521ms |    192.168.77.1 | POST     "/douyin/publish/action/"

2022/10/29 14:17:33 /home/cheng/Desktop/Linux/douyin-fighting/service/video.go:243
[0.472ms] [rows:5] SELECT * FROM `videos` WHERE video_id in (23464019025218945,23462739410177409,23462573751946625,23461385153301889,23245963636264321)

2022/10/29 14:17:33 /home/cheng/Desktop/Linux/douyin-fighting/service/comment.go:209
[2.551ms] [rows:0] SELECT `video_id`,COUNT(video_id) as comment_count FROM `comments` WHERE video_id in (23464019025218945,23462739410177409,23462573751946625,23461385153301889,23245963636264321) AND `comments`.`deleted_at` IS NULL GROUP BY `video_id`

2022/10/29 14:17:33 /home/cheng/Desktop/Linux/douyin-fighting/service/favorite.go:178
[1.577ms] [rows:0] SELECT `video_id`,COUNT(video_id) as favorite_count FROM `favorites` WHERE video_id in (23464019025218945,23462739410177409,23462573751946625,23461385153301889,23245963636264321) and is_favorite = true GROUP BY `video_id`
[GIN] 2022/10/29 - 14:17:33 | 200 |    8.321398ms |    192.168.77.1 | GET      "/douyin/feed/?latest_time=0&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOjIzNDY2MzM4NDU4NTUzNzI5LCJOYW1lIjoiMiIsImV4cCI6MTY2NzE2NDYyOCwibmJmIjoxNjY3MDc4MjI4LCJpYXQiOjE2NjcwNzgyMjh9.1WGBq3Axj97W0-f_SjRRU3V24YEoVjtecN5GMGB2gWg"
[GIN] 2022/10/29 - 14:19:08 | 200 |     385.691µs |    192.168.77.1 | GET      "/douyin/publish/list/?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOjIzNDY2MzM4NDU4NTUzNzI5LCJOYW1lIjoiMiIsImV4cCI6MTY2NzE2NDYyOCwibmJmIjoxNjY3MDc4MjI4LCJpYXQiOjE2NjcwNzgyMjh9.1WGBq3Axj97W0-f_SjRRU3V24YEoVjtecN5GMGB2gWg&user_id=23466338458553729"
[GIN] 2022/10/29 - 14:19:08 | 200 |     289.127µs |    192.168.77.1 | GET      "/douyin/favorite/list/?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOjIzNDY2MzM4NDU4NTUzNzI5LCJOYW1lIjoiMiIsImV4cCI6MTY2NzE2NDYyOCwibmJmIjoxNjY3MDc4MjI4LCJpYXQiOjE2NjcwNzgyMjh9.1WGBq3Axj97W0-f_SjRRU3V24YEoVjtecN5GMGB2gWg&user_id=23466338458553729"
